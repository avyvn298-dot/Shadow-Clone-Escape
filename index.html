<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shadow Clone Escape — AAA Student Build</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Shadow Clone Escape — endless ninja survival maze.">
  <link rel="icon" href="favicon.png" type="image/png">
</head>
<body>
  <!-- PRELOADER -->
  <div id="preloader" class="overlay-preloader hidden">
    <div class="pre-inner">
      <div class="logo">Shadow Clone Escape</div>
      <div class="loader-bar"><div class="loader-fill"></div></div>
      <p id="preloadText">Preparing assets...</p>
      <small class="muted">If loading stays stuck, press Start (assets optional).</small>
    </div>
  </div>

  <!-- MAIN MENU -->
  <main id="mainMenu" class="menu screen centered">
    <header class="menu-header">
      <h1 class="title">Shadow Clone Escape</h1>
      <p class="subtitle">Dodge your past. Survive the echoes.</p>
    </header>

    <section class="menu-buttons">
      <button id="btnStart" class="btn primary large">START</button>
      <div class="menu-row">
        <button id="btnTutorial" class="btn">TUTORIAL</button>
        <button id="btnSettings" class="btn">SETTINGS</button>
        <button id="btnCredits" class="btn">CREDITS</button>
        <button id="btnLeaderboard" class="btn">LEADERBOARD</button>
      </div>

      <div class="menu-extra">
        <small class="muted">Built for college — deliverable ready</small>
      </div>
    </section>

    <footer class="menu-footer">
      <small>© 2025 — Shadow Clone Escape • AAA Student Build</small>
    </footer>
  </main>

  <!-- TUTORIAL -->
  <section id="tutorial" class="modal hidden">
    <div class="modal-card">
      <h2>Tutorial</h2>
      <ol>
        <li>Move using <b>WASD</b> or arrow keys. On mobile, use the joystick.</li>
        <li>Each step you take is recorded. Clones replay your previous path.</li>
        <li>Collect power-ups: <b>Speed</b>, <b>Cloak</b>, <b>Shock</b>.</li>
        <li>Reach the glowing portal to advance levels. Avoid clones (unless cloaked).</li>
        <li>Click Start to begin. Audio requires a start gesture.</li>
      </ol>
      <div class="modal-actions">
        <button id="closeTutorial" class="btn">Close</button>
      </div>
    </div>
  </section>

  <!-- SETTINGS -->
  <section id="settings" class="modal hidden">
    <div class="modal-card">
      <h2>Settings</h2>
      <label class="setting-row">Music: <input id="musicToggle" type="checkbox" checked></label>
      <label class="setting-row">SFX: <input id="sfxToggle" type="checkbox" checked></label>
      <label class="setting-row">Music volume: <input id="musicVolume" type="range" min="0" max="1" step="0.05" value="0.45"></label>
      <label class="setting-row">SFX volume: <input id="sfxVolume" type="range" min="0" max="1" step="0.05" value="1.0"></label>
      <label class="setting-row">Difficulty:
        <select id="difficulty">
          <option value="easy">Easy</option>
          <option value="normal" selected>Normal</option>
          <option value="hard">Hard</option>
          <option value="nightmare">Nightmare</option>
        </select>
      </label>
      <div class="modal-actions">
        <button id="closeSettings" class="btn">Save</button>
      </div>
    </div>
  </section>

  <!-- CREDITS -->
  <section id="credits" class="modal hidden">
    <div class="modal-card">
      <h2>Credits</h2>
      <p>Design & Code: You (student) + AI-assisted AAA workflow</p>
      <p>Art: Generated PNGs (spritesheets)</p>
      <p>Audio: Procedural fallback + optional WAVs in /assets/</p>
      <div class="modal-actions">
        <button id="closeCredits" class="btn">Close</button>
      </div>
    </div>
  </section>

  <!-- LEADERBOARD -->
  <section id="leaderboard" class="modal hidden">
    <div class="modal-card">
      <h2>Leaderboard — Local</h2>
      <ol id="leaderboardList" class="leader-list"></ol>
      <div style="display:flex;gap:.5rem;justify-content:center;margin-top:10px">
        <button id="clearLeaderboard" class="btn small">Clear</button>
        <button id="closeLeaderboard" class="btn small">Close</button>
      </div>
    </div>
  </section>

  <!-- GAME UI / CANVAS -->
  <div id="ui" class="game-root hidden">
    <canvas id="gameCanvas" width="1280" height="720" aria-label="Game Canvas"></canvas>

    <div id="hud" class="hud">
      <div class="hud-left">
        <div id="status" class="status">Ready</div>
        <div class="bars">
          <div class="bar-row">
            <div class="bar-label">Time</div>
            <div id="timer" class="bar-value">0s</div>
          </div>
          <div class="bar-row">
            <div class="bar-label">Power</div>
            <div id="powerupBox" class="bar-value"></div>
          </div>
        </div>
      </div>

      <div class="hud-center">
        <button id="pauseBtn" class="btn small">Menu</button>
      </div>

      <div class="hud-right">
        <canvas id="miniMap" width="140" height="90" class="minimap"></canvas>
      </div>
    </div>

    <!-- mobile joystick -->
    <div id="joystickContainer" class="joystick hidden">
      <div id="joystick" class="stick"></div>
    </div>

    <!-- pause overlay -->
    <div id="menuOverlay" class="overlay hidden">
      <div class="overlay-card">
        <h2>Paused</h2>
        <div class="overlay-actions">
          <button id="resumeBtn" class="btn">Resume</button>
          <button id="restartBtn" class="btn">Restart</button>
          <button id="backMenuBtn" class="btn">Main Menu</button>
        </div>
      </div>
    </div>

    <!-- game over -->
    <div id="gameOver" class="overlay hidden">
      <div class="overlay-card">
        <h2>Game Over</h2>
        <p id="gameOverText">You survived 0s</p>
        <div class="overlay-actions">
          <button id="retryBtn" class="btn">Retry</button>
          <button id="quitBtn" class="btn">Quit</button>
        </div>
      </div>
    </div>
  </div>

  <!-- notification area -->
  <div id="notifArea" aria-hidden="true"></div>

  <footer class="footer">
    <small>Use a local static server for best results. Place assets in /assets/ (optional).</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
